(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7376],{1397:(e,s,t)=>{"use strict";t.d(s,{k:()=>n});var a=t(5155);t(2115);var r=t(1838),i=t(3999);function n(e){let{className:s,value:t,...n}=e;return(0,a.jsx)(r.bL,{"data-slot":"progress",className:(0,i.cn)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",s),...n,children:(0,a.jsx)(r.C1,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:"translateX(-".concat(100-(null!=t?t:0),"%)")}})})}},3999:(e,s,t)=>{"use strict";t.d(s,{bN:()=>n,cn:()=>i});var a=t(2596),r=t(9688);function i(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,r.QP)((0,a.$)(s))}function n(){let e=new Date,s=e.getDay(),t=new Date(e);return t.setDate(e.getDate()-(0===s?6:s-1)),t.setHours(0,0,0,0),t.toISOString()}},7929:(e,s,t)=>{Promise.resolve().then(t.bind(t,8156))},8156:(e,s,t)=>{"use strict";t.d(s,{GuardianDashboard:()=>E});var a=t(5155),r=t(2115),i=t(3999);function n(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,i.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",s),...t})}function c(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,i.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",s),...t})}function l(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,i.cn)("leading-none font-semibold",s),...t})}function d(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,i.cn)("text-muted-foreground text-sm",s),...t})}function o(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,i.cn)("px-6",s),...t})}var u=t(4624),x=t(2085);let m=(0,x.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function h(e){let{className:s,variant:t,size:r,asChild:n=!1,...c}=e,l=n?u.DX:"button";return(0,a.jsx)(l,{"data-slot":"button",className:(0,i.cn)(m({variant:t,size:r,className:s})),...c})}let g=(0,x.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function v(e){let{className:s,variant:t,asChild:r=!1,...n}=e,c=r?u.DX:"span";return(0,a.jsx)(c,{"data-slot":"badge",className:(0,i.cn)(g({variant:t}),s),...n})}var p=t(1397);let f=(0,x.F)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function j(e){let{className:s,variant:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"alert",role:"alert",className:(0,i.cn)(f({variant:t}),s),...r})}function b(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"alert-description",className:(0,i.cn)("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",s),...t})}var y=t(646),N=t(1243),w=t(4861),k=t(9397),C=t(5525),S=t(2775),A=t(5880);function E(){let[e,s]=(0,r.useState)(null),[t,i]=(0,r.useState)(!0),[u,x]=(0,r.useState)(null),[m,g]=(0,r.useState)(null),f=async()=>{try{i(!0);let e=await fetch("/api/guardian/health");if(e.ok){let t=await e.json();s(t.health),x(new Date(t.timestamp)),g(null)}else throw Error("Failed to fetch health data")}catch(e){g(e instanceof Error?e.message:"Unknown error")}finally{i(!1)}},E=async()=>{try{(await fetch("/api/guardian/backup",{method:"POST"})).ok&&setTimeout(f,2e3)}catch(e){console.error("Backup failed:",e)}},R=async()=>{try{(await fetch("/api/guardian/emergency",{method:"POST"})).ok&&setTimeout(f,2e3)}catch(e){console.error("Emergency backup failed:",e)}};(0,r.useEffect)(()=>{f();let e=setInterval(f,3e4);return()=>clearInterval(e)},[]);let D=e=>{switch(e){case"HEALTHY":return(0,a.jsx)(y.A,{className:"h-4 w-4 text-green-500"});case"WARNING":return(0,a.jsx)(N.A,{className:"h-4 w-4 text-yellow-500"});case"ERROR":case"CRITICAL":return(0,a.jsx)(w.A,{className:"h-4 w-4 text-red-500"});default:return(0,a.jsx)(k.A,{className:"h-4 w-4 text-gray-500"})}},T=e=>{switch(e){case"HEALTHY":return"bg-green-100 text-green-800";case"WARNING":return"bg-yellow-100 text-yellow-800";case"ERROR":case"CRITICAL":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};if(t&&!e)return(0,a.jsxs)(n,{children:[(0,a.jsxs)(c,{children:[(0,a.jsxs)(l,{className:"flex items-center gap-2",children:[(0,a.jsx)(C.A,{className:"h-5 w-5"}),"Guardian Safety System"]}),(0,a.jsx)(d,{children:"Loading system health..."})]}),(0,a.jsx)(o,{children:(0,a.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]})})]});if(m)return(0,a.jsxs)(n,{children:[(0,a.jsxs)(c,{children:[(0,a.jsxs)(l,{className:"flex items-center gap-2",children:[(0,a.jsx)(C.A,{className:"h-5 w-5"}),"Guardian Safety System"]}),(0,a.jsx)(d,{children:"System Status"})]}),(0,a.jsx)(o,{children:(0,a.jsxs)(j,{children:[(0,a.jsx)(N.A,{className:"h-4 w-4"}),(0,a.jsxs)(b,{children:["Failed to connect to Guardian system: ",m,(0,a.jsx)(h,{variant:"outline",size:"sm",className:"ml-2",onClick:f,children:"Retry"})]})]})})]});if(!e)return null;let L=[!e.git.hasRemote&&"No remote backup configured",e.git.uncommittedFiles>20&&"Too many uncommitted files (".concat(e.git.uncommittedFiles,")"),e.typescript.errorCount>10&&"Too many TypeScript errors (".concat(e.typescript.errorCount,")"),e.eslint.violationCount>5&&"Too many ESLint violations (".concat(e.eslint.violationCount,")"),"CRITICAL"===e.security.status&&"Security vulnerabilities detected",e.backup.hoursSinceLastBackup>24&&"Backup is overdue"].filter(Boolean);return(0,a.jsxs)(n,{children:[(0,a.jsxs)(c,{children:[(0,a.jsxs)(l,{className:"flex items-center gap-2",children:[(0,a.jsx)(C.A,{className:"h-5 w-5"}),"Guardian Safety System"]}),(0,a.jsxs)(d,{children:["Comprehensive protection against data corruption and loss",u&&(0,a.jsxs)("span",{className:"block text-xs text-gray-500 mt-1",children:["Last updated: ",u.toLocaleTimeString()]})]})]}),(0,a.jsxs)(o,{className:"space-y-6",children:[L.length>0&&(0,a.jsxs)(j,{children:[(0,a.jsx)(N.A,{className:"h-4 w-4"}),(0,a.jsxs)(b,{children:[(0,a.jsx)("strong",{children:"Critical Issues Detected:"}),(0,a.jsx)("ul",{className:"mt-2 space-y-1",children:L.map((e,s)=>(0,a.jsxs)("li",{className:"text-sm",children:["• ",e]},s))}),(0,a.jsxs)("div",{className:"mt-3 space-x-2",children:[(0,a.jsx)(h,{variant:"destructive",size:"sm",onClick:R,children:"\uD83D\uDEA8 Emergency Backup"}),(0,a.jsx)(h,{variant:"outline",size:"sm",onClick:f,children:"Refresh Status"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,a.jsxs)(n,{children:[(0,a.jsx)(c,{className:"pb-2",children:(0,a.jsxs)(l,{className:"text-sm flex items-center gap-2",children:[(0,a.jsx)(S.A,{className:"h-4 w-4"}),"Git System"]})}),(0,a.jsxs)(o,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)(v,{className:T(e.git.status),children:e.git.status}),D(e.git.status)]}),(0,a.jsxs)("div",{className:"text-sm space-y-1",children:[(0,a.jsxs)("div",{children:["Uncommitted: ",e.git.uncommittedFiles]}),(0,a.jsxs)("div",{children:["Remote: ",e.git.hasRemote?"✅":"❌"]})]})]})]}),(0,a.jsxs)(n,{children:[(0,a.jsx)(c,{className:"pb-2",children:(0,a.jsxs)(l,{className:"text-sm flex items-center gap-2",children:[(0,a.jsx)(k.A,{className:"h-4 w-4"}),"TypeScript"]})}),(0,a.jsxs)(o,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)(v,{className:T(e.typescript.status),children:e.typescript.status}),D(e.typescript.status)]}),(0,a.jsxs)("div",{className:"text-sm",children:["Errors: ",e.typescript.errorCount]}),e.typescript.errorCount>0&&(0,a.jsx)(p.k,{value:Math.min(e.typescript.errorCount/10*100,100),className:"mt-2"})]})]}),(0,a.jsxs)(n,{children:[(0,a.jsx)(c,{className:"pb-2",children:(0,a.jsxs)(l,{className:"text-sm flex items-center gap-2",children:[(0,a.jsx)(k.A,{className:"h-4 w-4"}),"ESLint"]})}),(0,a.jsxs)(o,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)(v,{className:T(e.eslint.status),children:e.eslint.status}),D(e.eslint.status)]}),(0,a.jsxs)("div",{className:"text-sm",children:["Violations: ",e.eslint.violationCount]}),e.eslint.violationCount>0&&(0,a.jsx)(p.k,{value:Math.min(e.eslint.violationCount/5*100,100),className:"mt-2"})]})]}),(0,a.jsxs)(n,{children:[(0,a.jsx)(c,{className:"pb-2",children:(0,a.jsxs)(l,{className:"text-sm flex items-center gap-2",children:[(0,a.jsx)(C.A,{className:"h-4 w-4"}),"Security"]})}),(0,a.jsxs)(o,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)(v,{className:T(e.security.status),children:e.security.status}),D(e.security.status)]}),(0,a.jsxs)("div",{className:"text-sm",children:["Issues: ",e.security.issues.length]})]})]}),(0,a.jsxs)(n,{children:[(0,a.jsx)(c,{className:"pb-2",children:(0,a.jsxs)(l,{className:"text-sm flex items-center gap-2",children:[(0,a.jsx)(A.A,{className:"h-4 w-4"}),"Backup System"]})}),(0,a.jsxs)(o,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)(v,{className:T(e.backup.status),children:e.backup.status}),D(e.backup.status)]}),(0,a.jsxs)("div",{className:"text-sm space-y-1",children:[(0,a.jsxs)("div",{children:["Count: ",e.backup.backupCount]}),(0,a.jsxs)("div",{children:["Last: ",e.backup.hoursSinceLastBackup.toFixed(1),"h ago"]})]})]})]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,a.jsxs)(h,{onClick:E,variant:"outline",size:"sm",children:[(0,a.jsx)(A.A,{className:"h-4 w-4 mr-2"}),"Create Backup"]}),(0,a.jsxs)(h,{onClick:f,variant:"outline",size:"sm",children:[(0,a.jsx)(k.A,{className:"h-4 w-4 mr-2"}),"Refresh Status"]}),L.length>0&&(0,a.jsx)(h,{onClick:R,variant:"destructive",size:"sm",children:"\uD83D\uDEA8 Emergency Backup"})]}),(0,a.jsx)("div",{className:"text-xs text-gray-500 text-center",children:"Guardian is actively monitoring your system for threats and automatically protecting your work"})]})]})}}},e=>{e.O(0,[4277,9421,8441,5964,7358],()=>e(e.s=7929)),_N_E=e.O()}]);