/**
 * @fileoverview Component Migration Guide for HT-011.3.1
 * @module docs/HT-011.3.1_COMPONENT_MIGRATION_GUIDE.md
 * @author OSS Hero System
 * @version 1.0.0
 * 
 * HT-011.3.1: Update Component Library for Brand Customization
 * 
 * This guide provides instructions for migrating existing components to use
 * brand-aware components that support dynamic brand customization.
 */

# HT-011.3.1: Component Migration Guide

## Overview

This guide provides step-by-step instructions for migrating existing UI components to use the new brand-aware components that support dynamic brand customization.

## Brand-Aware Components Available

### 1. Brand-Aware Button (`BrandAwareButton`)

**Replaces:** Hardcoded color buttons in `components/ui/button.tsx`

**Migration:**
```tsx
// Before (hardcoded colors)
<Button variant="cta" className="bg-blue-600 hover:bg-blue-700">
  Click me
</Button>

// After (brand-aware)
<BrandAwareButton variant="primary">
  Click me
</BrandAwareButton>

// With custom brand colors
<BrandAwareButton 
  variant="primary" 
  brandColors={{ primary: '#FF6B6B' }}
>
  Click me
</BrandAwareButton>
```

**Available Variants:**
- `primary` - Uses brand primary color
- `secondary` - Uses brand secondary color
- `outline` - Uses brand primary color for border/text
- `ghost` - Uses brand primary color for text
- `cta` - Enhanced primary variant for CTAs
- `destructive` - Uses brand destructive color

### 2. Brand-Aware Badge (`BrandAwareBadge`)

**Replaces:** Hardcoded color badges

**Migration:**
```tsx
// Before (hardcoded colors)
<Badge className="bg-blue-100 text-blue-800">
  New Feature
</Badge>

// After (brand-aware)
<BrandAwareBadge variant="primary">
  New Feature
</BrandAwareBadge>

// With custom brand colors
<BrandAwareBadge 
  variant="success" 
  brandColors={{ success: '#10B981' }}
>
  Success
</BrandAwareBadge>
```

**Available Variants:**
- `primary` - Uses brand primary color
- `secondary` - Uses brand secondary color
- `success` - Uses brand success color
- `warning` - Uses brand warning color
- `error` - Uses brand error color
- `info` - Uses brand info color
- `outline` - Uses brand primary color for border/text
- `destructive` - Uses brand destructive color

### 3. Brand-Aware Input (`BrandAwareInput`)

**Replaces:** Hardcoded color inputs

**Migration:**
```tsx
// Before (hardcoded colors)
<Input className="border-blue-500 focus:ring-blue-500" />

// After (brand-aware)
<BrandAwareInput variant="default" />

// With error state
<BrandAwareInput 
  variant="error" 
  error="This field is required"
  brandColors={{ error: '#EF4444' }}
/>
```

**Available Variants:**
- `default` - Uses brand focus color
- `error` - Uses brand error color
- `success` - Uses brand success color
- `warning` - Uses brand warning color
- `info` - Uses brand info color

### 4. Brand-Aware Error Notification (`BrandAwareErrorNotification`)

**Replaces:** Hardcoded color error notifications

**Migration:**
```tsx
// Before (hardcoded colors)
<div className="border-red-200 bg-red-50 text-red-700">
  Error occurred
</div>

// After (brand-aware)
<BrandAwareErrorNotification 
  severity="high" 
  message="Error occurred"
/>

// With custom brand colors
<BrandAwareErrorNotification 
  severity="critical" 
  message="Critical error"
  brandColors={{ critical: '#DC2626' }}
/>
```

**Available Severities:**
- `low` - Uses brand info color
- `medium` - Uses brand warning color
- `high` - Uses brand error color
- `critical` - Uses brand critical color

## Migration Steps

### Step 1: Import Brand-Aware Components

```tsx
// Import the components you need
import { 
  BrandAwareButton, 
  BrandAwareBadge, 
  BrandAwareInput,
  BrandAwareErrorNotification 
} from '@/components/ui/brand-aware';
```

### Step 2: Replace Hardcoded Colors

1. **Identify hardcoded colors** in your components
2. **Replace with brand-aware variants** that use dynamic colors
3. **Test with different brand configurations** to ensure proper theming

### Step 3: Update Component Props

1. **Remove hardcoded className props** with colors
2. **Add appropriate variant props** to brand-aware components
3. **Add brandColors prop** if custom colors are needed

### Step 4: Test Brand Customization

1. **Test with default brand colors** from configuration
2. **Test with custom brand colors** via props
3. **Test with different brand presets** to ensure compatibility

## Examples

### Navigation Component Migration

```tsx
// Before
<nav className="bg-gray-900 border-gray-700">
  <Button className="bg-blue-600 hover:bg-blue-700">
    Sign In
  </Button>
</nav>

// After
<nav className="bg-gray-900 border-gray-700">
  <BrandAwareButton variant="primary">
    Sign In
  </BrandAwareButton>
</nav>
```

### Form Component Migration

```tsx
// Before
<form>
  <Input 
    className="border-gray-300 focus:border-blue-500 focus:ring-blue-500"
    placeholder="Email"
  />
  <Button className="bg-blue-600 hover:bg-blue-700">
    Submit
  </Button>
</form>

// After
<form>
  <BrandAwareInput 
    variant="default"
    placeholder="Email"
  />
  <BrandAwareButton variant="primary">
    Submit
  </BrandAwareButton>
</form>
```

### Error Handling Migration

```tsx
// Before
{error && (
  <div className="border-red-200 bg-red-50 text-red-700 p-4 rounded">
    {error}
  </div>
)}

// After
{error && (
  <BrandAwareErrorNotification 
    severity="high" 
    message={error}
  />
)}
```

## Best Practices

### 1. Use Semantic Variants

```tsx
// Good - semantic variant
<BrandAwareButton variant="primary">Primary Action</BrandAwareButton>
<BrandAwareButton variant="secondary">Secondary Action</BrandAwareButton>

// Avoid - hardcoded colors
<BrandAwareButton brandColors={{ primary: '#blue' }}>Action</BrandAwareButton>
```

### 2. Leverage Brand Configuration

```tsx
// Good - uses brand configuration
<BrandAwareButton variant="primary" useBrandColors={true} />

// Only override when necessary
<BrandAwareButton 
  variant="primary" 
  brandColors={{ primary: '#custom-color' }}
/>
```

### 3. Maintain Accessibility

```tsx
// Ensure proper contrast ratios
<BrandAwareButton 
  variant="primary"
  brandColors={{ 
    primary: '#007AFF' // Ensure sufficient contrast
  }}
/>
```

### 4. Test Across Brand Presets

```tsx
// Test with different brand presets
const testBrands = [
  { primary: '#007AFF', secondary: '#6B7280' },
  { primary: '#FF6B6B', secondary: '#4ECDC4' },
  { primary: '#10B981', secondary: '#F59E0B' }
];

testBrands.forEach(brand => (
  <BrandAwareButton 
    variant="primary" 
    brandColors={brand}
  />
));
```

## Troubleshooting

### Common Issues

1. **Colors not applying**: Ensure `useBrandColors={true}` or provide `brandColors` prop
2. **CSS variables not working**: Check that CSS custom properties are properly generated
3. **Dark mode issues**: Ensure brand colors work in both light and dark modes

### Debug Tips

```tsx
// Debug brand colors
console.log('Brand config:', config.theme?.colors);

// Debug CSS properties
<BrandAwareButton 
  variant="primary"
  style={{ '--debug-brand': 'red' }} // Temporary debug
/>
```

## Next Steps

1. **Migrate high-priority components** first (buttons, inputs, badges)
2. **Test with different brand configurations**
3. **Update component documentation**
4. **Create brand preset examples**
5. **Add brand customization to admin interface**

## Related Files

- `components/ui/brand-aware-button.tsx` - Brand-aware button component
- `components/ui/brand-aware-badge.tsx` - Brand-aware badge component
- `components/ui/brand-aware-input.tsx` - Brand-aware input component
- `components/ui/brand-aware-error-notification.tsx` - Brand-aware error notification
- `lib/branding/hooks.ts` - Brand configuration hooks
- `components/branding/DynamicBrandName.tsx` - Dynamic brand name component
